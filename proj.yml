-  name : deploy latest package
   hosts : all
   become : yes
   vars : 
     USERNAME : tomcat_user
   tasks :
     -  name : create user
        ansible.builtin.user :
          name : "{{USERNAME}}"
     -  name : creates directory
        file :
          path : /tom
          state : directory
          owner : "{{USERNAME}}"
          group : "{{USERNAME}}"
          mode : 0755 
     -  name: Extract tomcat
        ansible.builtin.unarchive:
          src: https://dlcdn.apache.org/tomcat/tomcat-9/v9.0.70/bin/apache-tomcat-9.0.70.tar.gz
          dest: /tom
          remote_src: yes
        become_user : "{{USERNAME}}"
     -  name: java install
        ansible.builtin.shell:
          cmd: amazon-linux-extras install java-openjdk11 -y
     -  name: Download war file
        ansible.builtin.get_url:
          url: http://34.125.8.93:8081/repository/maven-snapshots/com/murali/webs/3.0-SNAPSHOT/webs-3.0-20230109.143246-1.war
          dest: /tom/apache-tomcat-9.0.70/webapps/bs.war
    